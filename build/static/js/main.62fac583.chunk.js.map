{"version":3,"sources":["Components/ContactList.js","Components/InputForm.js","Components/ConformationMessage.js","Components/DeleteConformation.js","Components/UpdateConformation.js","Components/Search.js","index.js","Components/App.js"],"names":["ContactList","_ref","person","handleDelete","react_default","a","createElement","className","scope","name","number","onClick","_id","InputForm","handleNameInput","handleNumberInput","handleSubmit","newName","newNumber","onSubmit","style","onChange","type","id","placeholder","value","ConformationMessage","conformationMessage","DeleteConformation","deleteConformation","updateConformation","Search","handleSearch","aria-label","ReactDOM","render","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setConformationMessage","_useState9","_useState10","setDeleteConformation","_useState11","_useState12","setUpdateConformation","_useState13","_useState14","searchContact","setSearchContact","URL","useEffect","axios","get","then","response","data","console","log","result","filter","deletedContact","window","confirm","delete","concat","res","setTimeout","e","target","searchFromContactList","toLowerCase","includes","toLocaleLowerCase","Components_Search","UpdateConformation_ConformationMessage","event","preventDefault","checkContact","newContact","length","alert","patch","indexOldContact","findIndex","updatedNumber","assign","toConsumableArray","defineProperty","post","map","key","document","getElementById"],"mappings":"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","file":"static/js/main.62fac583.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function ContactList({ person, handleDelete }) {\r\n  return (\r\n    <div>\r\n      <table className=\"table table-dark\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Name</th>\r\n            <th scope=\"col\">contact</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>{person.name}</td>\r\n            <td>{person.number} </td>\r\n            <td><button className=\"btn btn-danger \" onClick={() => handleDelete(person._id, person.name)}>delete</button></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './styles/inputForm.css'\r\n\r\nexport default function InputForm({ handleNameInput, handleNumberInput, handleSubmit, newName, newNumber }) {\r\n  const style = { style: \"color: #757575\" }\r\n  return (\r\n    <div className=\"mb-5\">\r\n      <div className=\"card\">\r\n        <h5 className=\"card-header bg-dark text-white text-center py-3\">\r\n          <strong>Phone Book form </strong>\r\n        </h5>\r\n        {/* <!--Card content--> */}\r\n        <div className=\"card-body px-lg-5\">\r\n          <form\r\n            onSubmit={handleSubmit}\r\n            className=\"text-center\" style={style}\r\n          >\r\n            <div className=\"md-form mt-3\">\r\n              <input\r\n                onChange={handleNameInput}\r\n                type=\"text\"\r\n                id=\"materialSubscriptionFormPasswords\"\r\n                placeholder=\"Name\"\r\n                className=\"form-control text-center\"\r\n                value={newName}\r\n              />\r\n            </div>\r\n            <div className=\"md-form mt-3\">\r\n              <input\r\n                onChange={handleNumberInput}\r\n                type=\"number\"\r\n                id=\"materialSubscriptionFormPasswords\"\r\n                placeholder=\"phone number\"\r\n                className=\"form-control text-center\"\r\n                value={newNumber}\r\n              />\r\n            </div>\r\n            {/* <!-- Sign in button --> */}\r\n            <input\r\n              className=\"btn btn-dark btn-rounded  z-depth-0 my-4  waves-effect\"\r\n              type=\"submit\"\r\n              value=\"Add Contact\"\r\n            />\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function ConformationMessage({ conformationMessage }) {\r\n  if (!conformationMessage) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"container\">\r\n      <p className=\"border rounded  border-success py-2 mx-auto px-5 bg-light text-success\">\r\n        <span className=\"h5 pr-4\">{conformationMessage}</span> is added On in your phone book\r\n      </p>\r\n    </div >\r\n  )\r\n\r\n}\r\n","import React from 'react'\r\n\r\nexport default function DeleteConformation({ deleteConformation }) {\r\n  if (!deleteConformation) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"container\">\r\n      <p className=\"border rounded  border-danger py-2 mx-auto px-5 bg-light text-danger\">\r\n        {deleteConformation} Deleted from your Phone book\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function ConformationMessage({ updateConformation }) {\r\n  if (!updateConformation) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"container\">\r\n      <p className=\"border rounded  border-info py-2 mx-auto px-5 bg-light text-info\">\r\n        <span className=\"h5 pr-4\">{updateConformation}</span> number is updated\r\n       </p>\r\n    </div>\r\n  )\r\n\r\n}\r\n","import React from 'react';\r\n\r\nconst Search = ({ handleSearch }) => {\r\n  return (\r\n    <div className=\" container-fluid font-weight-bolder h3 text-center bg-dark text-white py-3\">\r\n      <div className=\"row\">\r\n        <div className=\"col-7\"></div>\r\n        <div className=\" col-4 md-form active-purple  active-purple-2 mb-3 \">\r\n          <input onChange={handleSearch} className=\"form-control text-center\" type=\"text\" placeholder=\"Search contact\" aria-label=\"Search\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Search;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\n\r\nimport ContactList from './ContactList'\r\nimport InputForm from './InputForm'\r\nimport ConformationMessage from './ConformationMessage';\r\nimport DeleteConformation from './DeleteConformation'\r\nimport UpdateConformation from './UpdateConformation';\r\nimport Search from './Search'\r\n\r\nexport default function App() {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [conformationMessage, setConformationMessage] = useState('')\r\n  const [deleteConformation, setDeleteConformation] = useState('')\r\n  const [updateConformation, setUpdateConformation] = useState('')\r\n  const [searchContact, setSearchContact] = useState('')\r\n\r\n  const URL = \"http://localhost:5000/api/persons\"\r\n  useEffect(() => {\r\n    axios\r\n      .get('http://localhost:5000/api/persons')\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameInput = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberInput = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  // add new contact\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n    //  new contcat list object\r\n\r\n    let _id\r\n    const checkContact = persons.filter(person => {\r\n      return newName === person.name ? _id = person._id : null\r\n    })\r\n\r\n    const newContact = { name: newName, number: newNumber }\r\n    // alerts if input is empty\r\n    if (newName.length < 1 || newNumber.length < 1) {\r\n      return alert('Field cant be empty')\r\n\r\n    } else if (checkContact.length !== 0) {\r\n      // if new contact name is already existed  \r\n      if (window.confirm(newName + ' already exist do you want to update number ? ')) {\r\n        // updated contact object\r\n\r\n        // updates the database\r\n        axios\r\n          .patch(`${URL}/${_id}`, newContact)\r\n          .then(res => {\r\n            //remove array\r\n            const indexOldContact = persons.findIndex(({ _id }) => _id === res.data._id);\r\n            console.log(indexOldContact)\r\n            const updatedNumber = Object.assign([...persons], { [indexOldContact]: newContact });\r\n            console.log(updatedNumber)\r\n            setPersons(updatedNumber)\r\n            setUpdateConformation(res.data.name)\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setTimeout(() => {\r\n              setUpdateConformation(null)\r\n            }, 3000)\r\n          })\r\n      }\r\n\r\n    } else {\r\n      axios\r\n        .post(URL, newContact)\r\n        .then(res => {\r\n          setPersons(persons.concat(res.data))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setConformationMessage(res.data.name)\r\n          setTimeout(() => {\r\n            setConformationMessage(null)\r\n          }, 3000)\r\n        })\r\n    }\r\n  }\r\n\r\n  //handle delete\r\n  const handleDelete = (id, name) => {\r\n    console.log('persons', persons)\r\n    console.log('id', id)\r\n    const result = persons.filter(person => person._id !== id)\r\n    const deletedContact = persons.filter(person => (person._id === id) ? person.name : null)\r\n    if (window.confirm('delete ' + name + ' ?')) {\r\n      console.log('deleted contact', deletedContact)\r\n      axios\r\n        .delete(`${URL}/${id}`)\r\n        .then(res => {\r\n          setPersons(result)\r\n          setDeleteConformation(deletedContact[0].name)\r\n          setTimeout(() => {\r\n            setDeleteConformation(null)\r\n          }, 3000);\r\n        })\r\n    }\r\n  }\r\n  // filter search\r\n  const handleSearch = (e) => {\r\n    setSearchContact(e.target.value)\r\n  }\r\n  const searchFromContactList = persons.filter(person => {\r\n    return person.name.toLowerCase().includes(searchContact.toLocaleLowerCase())\r\n  })\r\n  // edit \r\n  // render Phonebook components row by row\r\n  const renderContactList = () => searchFromContactList.map(person => (\r\n    < ContactList\r\n      person={person}\r\n      key={person._id}\r\n      handleDelete={handleDelete}\r\n    />\r\n  ))\r\n\r\n  return (\r\n    <div>\r\n      <Search handleSearch={handleSearch} />\r\n\r\n      <div className=\"text-center\">\r\n        <ConformationMessage\r\n          conformationMessage={conformationMessage}\r\n        />\r\n        < UpdateConformation updateConformation={updateConformation} />\r\n\r\n        <DeleteConformation\r\n          deleteConformation={deleteConformation}\r\n        />\r\n      </div>\r\n      <div className=\" d-flex flex-wrap justify-content-around my-5\">\r\n        <div >\r\n          <InputForm\r\n            handleNameInput={handleNameInput}\r\n            handleNumberInput={handleNumberInput}\r\n            handleSubmit={handleSubmit}\r\n            handleSearch={handleSearch}\r\n            newName={newName}\r\n            newNumber={newNumber}\r\n          />\r\n        </div>\r\n        <div >\r\n          {renderContactList()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"sourceRoot":""}