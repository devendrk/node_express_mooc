(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(40)},22:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),l=t.n(o),u=(t(22),t(14)),c=t(15),i=t(2),m=t(3),d=t.n(m);function f(e){var n=e.person,t=e.handleDelete;return r.a.createElement("p",null,"name: ",r.a.createElement("strong",null," ",n.name,"  ")," | contact: ",r.a.createElement("strong",null," ",n.number),r.a.createElement("button",{onClick:function(){return t(n.id,n.name)}},"delete"))}function s(e){var n=e.handleNameInput,t=e.handleNumberInput,a=e.handleSubmit,o=e.handleSearch;return r.a.createElement("div",null,r.a.createElement("input",{type:"text",onChange:o,placeholder:"Search contact"}),r.a.createElement("form",{onSubmit:a},r.a.createElement("input",{type:"text",placeholder:"name",onChange:n}),r.a.createElement("input",{type:"number",placeholder:"Phone Number",onChange:t}),r.a.createElement("input",{type:"submit",value:"Add Contact"})))}function p(e){var n=e.conformationMessage;return n?r.a.createElement("div",null,r.a.createElement("p",null,n," is addedOn in your phone book ")):null}function b(e){var n=e.deleteConformation;return n?r.a.createElement("div",null,r.a.createElement("p",null,n," Deleted from your Phone book")):null}l.a.render(r.a.createElement(function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],l=Object(a.useState)(""),m=Object(i.a)(l,2),h=m[0],v=m[1],E=Object(a.useState)(""),g=Object(i.a)(E,2),O=g[0],j=g[1],w=Object(a.useState)(""),S=Object(i.a)(w,2),y=S[0],C=S[1],k=Object(a.useState)(""),I=Object(i.a)(k,2),x=I[0],N=I[1],D=Object(a.useState)(""),L=Object(i.a)(D,2),J=L[0],M=L[1],P="/persons/";Object(a.useEffect)(function(){d.a.get("/persons/").then(function(e){o(e.data)})},[]);var T=function(e,n){console.log("id",e,"name",n);var a=t.filter(function(n){return n.id!==e}),r=t.filter(function(n){return n.id===e?n.name:null});window.confirm("delete "+n+" ?")&&d.a.delete("".concat(P,"/").concat(e)).then(function(e){console.log(e+"res"),o(a),console.log("result",a),N(r[0].name),setTimeout(function(){N(null)},5e3)})},A=t.filter(function(e){return e.name.toLowerCase().includes(J.toLocaleLowerCase())});return r.a.createElement("div",null,r.a.createElement(p,{conformationMessage:y}),r.a.createElement(b,{deleteConformation:x}),r.a.createElement(s,{handleNameInput:function(e){v(e.target.value)},handleNumberInput:function(e){j(e.target.value)},handleSubmit:function(e){var n;e.preventDefault();var a=t.filter(function(e){return h===e.name?n=e.id:null}).length>0;if(h.length<1||O.length<1)return alert("field cant be empty");if(a){if(window.confirm(h+"already exist do you want to update number ? ")){var r={name:h,number:O,id:n};d.a.put("".concat(P,"/").concat(n),r).then(function(e){var n=t.findIndex(function(n){return n.id===e.data.id}),a=Object.assign(Object(c.a)(t),Object(u.a)({},n,r));o(a),v(""),j("")})}}else{var l={name:h,number:O};d.a.post(P,l).then(function(e){o(t.concat(e.data)),v(""),j(""),C(e.data.name),setTimeout(function(){C(null)},5e3)})}},handleSearch:function(e){M(e.target.value)}}),A.map(function(e){return r.a.createElement(f,{person:e,key:e.id,handleDelete:T})}))},null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f68893b2.chunk.js.map